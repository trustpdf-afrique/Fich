<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>G√©n√©rateur de Fiche de Cours</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eef6f8;
      padding: 20px;
      color: #222;
    }
    textarea {
      width: 100%;
      height: 180px;
      margin-bottom: 15px;
      padding: 10px;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      resize: vertical;
    }
    button {
      background-color: #0a6d45;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 1rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .fiche {
      margin-top: 30px;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    h2 {
      color: #0a6d45;
      margin-top: 25px;
    }
    ul {
      padding-left: 20px;
    }
    code {
      background: #eef;
      padding: 2px 4px;
      border-radius: 4px;
    }
    em {
      color: #004;
    }
  </style>
</head>
<body>

  <h1>üß† G√©n√©rateur Automatique de Fiche de Cours</h1>
  <p>Colle ici ton cours :</p>
  <textarea id="cours" placeholder="Colle ici ton cours complet..."></textarea>
  <button onclick="genererFiche()">G√©n√©rer la fiche</button>

  <div class="fiche" id="fiche" style="display:none;"></div>

  <script>
    function genererFiche() {
      const cours = document.getElementById('cours').value.trim();
      if (!cours) return alert("Entre un cours pour g√©n√©rer la fiche.");

      const titreMatch = cours.match(/cours\s*[:\-]?\s*(.+)/i);
      const titre = titreMatch ? titreMatch[1].trim() : "Titre inconnu";

      const contenuImportant = cours
        .split('.')
        .filter(phrase => phrase.trim().length > 15)
        .map(p => `<li>${p.trim()}.</li>`)
        .join('');

      const motsClePossibles = ['eau', 'soleil', 'oxyg√®ne', 'plante', 'lumi√®re', 'glucose', 'dioxyde', 'chlorophylle', 'photosynth√®se', 'co2', 'h2o'];
      const motsCle = [...new Set(
        cours.toLowerCase().match(/\b\w+\b/g)
          .filter(mot => motsClePossibles.includes(mot.toLowerCase()))
      )].slice(0, 7);

      const questions = `
        <li>Quel est le sujet principal du cours ?</li>
        <li>Quels √©l√©ments sont n√©cessaires ?</li>
        <li>Quel est le r√©sultat de ce processus ?</li>
        <li>√Ä quel moment se produit-il ?</li>
      `;

      const astuce = `
        <code>Lumi√®re + CO‚ÇÇ + H‚ÇÇO ‚Üí Glucose + O‚ÇÇ</code><br>
        <em>"Le Soleil Donne √† l‚ÄôEau et au Gaz un Sucre et un Souffle."</em>
      `;

      document.getElementById('fiche').innerHTML = `
        <h2>üìò Titre</h2>
        <div><strong>${titre}</strong></div>

        <h2>üß† Id√©e principale</h2>
        <div>${cours.split('.')[0].trim()}.</div>

        <h2>üîë Mots-cl√©s</h2>
        <ul>${motsCle.map(m => `<li>${m}</li>`).join('')}</ul>

        <h2>üìä Contenu important</h2>
        <ul>${contenuImportant}</ul>

        <h2>‚ùì Questions d'auto-test</h2>
        <ul>${questions}</ul>

        <h2>üí° Astuce de m√©moire</h2>
        <div>${astuce}</div>
      `;
      document.getElementById('fiche').style.display = 'block';
    }
  </script>

</body>
</html>
